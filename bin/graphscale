#!/usr/local/bin/python3

import os
import click

from graphscale.grapple.scaffolding import rescaffold_graphql


@click.group()
def cli():
    pass


@click.command(short_help='Generate GraphQL scaffolding')
@click.argument('path', type=click.Path())
def scaffold(path):
    directory = os.path.dirname(path)
    (module_name, _ext) = os.path.splitext(os.path.basename(path))
    rescaffold_graphql(path, directory, module_name)


if __name__ == '__main__':
    cli.add_command(scaffold)
    cli()
